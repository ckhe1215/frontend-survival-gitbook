# 4. useRef & Custom Hook

## useRef

- ë Œë”ë§ì´ ë¶ˆí•„ìš”í•œ ê°’ì„ ì°¸ì¡°í•˜ê²Œ í•´ì£¼ëŠ” í›…

```js
import { useRef } from 'react';

const ref = useRef(initialValue)
```

- `initial value`ë¡œ ì´ˆê¸°í™”ëœ `current` ì†ì„±ì„ ê°€ì§€ê³  ìˆëŠ” `ref` ê°ì²´ë¥¼ ë¦¬í„´
- ë‹¤ìŒ ë Œë”ë§ì—ì„œë„ `useRef`ëŠ” ë™ì¼í•œ ê°ì²´ë¥¼ ë¦¬í„´í•˜ê¸° ë•Œë¬¸ì— `current` ì†ì„±ì— ì €ì¥í•œ ê°’ì€
ë‚˜ì¤‘ì— ì½ì–´ë“¤ì¼ ìˆ˜ ìˆìŒ
- `ref`ì˜ ë³€í™”ëŠ” ë¦¬ë Œë”ë§ì„ triggerí•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì—ì„œ `state`ì™€ ì°¨ì´ê°€ ìˆìŒ

`ref`ì™€ ë‹¤ë¥¸ ë³€ìˆ˜ë“¤ì˜ ì°¨ì´

1. ì¼ë°˜ ë³€ìˆ˜ì™€ ë‹¬ë¦¬ ë§¤ ë Œë”ë§ë§ˆë‹¤ ë¦¬ì…‹ë˜ì§€ ì•Šê³  ê°’ì´ ì €ì¥ë¨
2. stateì™€ ë‹¬ë¦¬ ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠìŒ
3. ì™¸ë¶€ ë³€ìˆ˜ì™€ ë‹¬ë¦¬ ì»´í¬ë„ŒíŠ¸ ê°„ì— ê³µìœ ë˜ì§€ ì•ŠìŒ

### refë¡œ DOM ì¡°ì‘í•˜ê¸°

``` js
function MyComponent() {
  const inputRef = useRef(null);
  // ...
  return <input ref={inputRef} />;
}

function handleClick() {
  inputRef.current.focus();
}
```

1. nullê°’ì„ ì´ˆê¸°ê°’ìœ¼ë¡œ ê°–ëŠ” ref ê°ì²´ ìƒì„±
2. ref ê°ì²´ë¥¼ ref attributeë¡œ ë„˜ê¹€
3. DOMë…¸ë“œê°€ ìŠ¤í¬ë¦°ì— ìƒì„±ë˜ê³  ë‚˜ë©´ current ì†ì„±ì— DOM ë…¸ë“œê°€ ì €ì¥ë¨
4. refì˜ currentê°’ìœ¼ë¡œ DOM ë…¸ë“œë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆìŒ
5. ë…¸ë“œê°€ ìŠ¤í¬ë¦°ì—ì„œ ì‚¬ë¼ì§€ë©´ currentê°’ì€ nullì´ ë¨

### ë Œë”ë§ ì¤‘ì— ref ê°’ì„ read/write í•˜ì§€ ì•Šê¸°

- ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” í•­ìƒ ìˆœìˆ˜í•¨ìˆ˜ì—¬ì•¼í•¨
- ì¸í’‹ì´ ë™ì¼í•˜ë‹¤ë©´ í•­ìƒ ë™ì¼í•œ ê²°ê³¼(JSX)ë¥¼ ë¦¬í„´í•´ì•¼í•¨
- ë‹¤ë¥¸ ìˆœì„œë‚˜ ë‹¤ë¥¸ ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ì¶œí•´ë„ ë‹¤ë¥¸ í˜¸ì¶œì˜ ê²°ê³¼ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šì•„ì•¼ í•¨
- ë Œë”ë§ ì¤‘ì— ê°’ì„ ë³€ê²½í•˜ê±°ë‚˜ ì‚¬ìš©í•´ì•¼í•œë‹¤ë©´ stateë¥¼ ì“¸ ê²ƒ

``` js
function MyComponent() {
  // ...
  // ğŸš© Don't write a ref during rendering
  myRef.current = 123;
  // ...
  // ğŸš© Don't read a ref during rendering
  return <h1>{myOtherRef.current}</h1>;
}

function MyComponent() {
  // ...
  useEffect(() => {
    // âœ… You can read or write refs in effects
    myRef.current = 123;
  });
  // ...
  function handleClick() {
    // âœ… You can read or write refs in event handlers
    doSomething(myOtherRef.current);
  }
  // ...
}
```

### ref contentsì˜ ì¬ìƒì„± í”¼í•˜ê¸°

ë³´í†µ refì˜ ì´ˆê¸°ê°’ì€ ì¬ë Œë”ë§ì‹œ ë¬´ì‹œë¨

ê·¸ëŸ¬ë‚˜ ì•„ë˜ ì½”ë“œëŠ” ë§¤ë²ˆ `new VideoPlayer()`ë¥¼ ìƒì„±í•˜ê²Œ ë¨

```js
function Video() {
  const playerRef = useRef(new VideoPlayer());
  // ...
```

ë¶ˆí•„ìš”í•œ ê°ì²´ë¥¼ ë§¤ë²ˆ ìƒì„±í•˜ëŠ” ê²ƒì€ ë‚­ë¹„ì´ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±

```js
function Video() {
  const playerRef = useRef(null);
  if (playerRef.current === null) {
    playerRef.current = new VideoPlayer();
  }
  // ...
```

ì¼ë°˜ì ìœ¼ë¡œ ref ê°’ì„ ë Œë”ë§í•˜ëŠ” ë™ì•ˆ ì“°ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ì§€ë§Œ ì—¬ê¸°ì„œëŠ” ì‹¤í–‰ê³¼ê°€ í•­ìƒ ë™ì¼í•œ ê°’ì„
ë¦¬í„´í•˜ê¸° ë•Œë¬¸ì— OK

## Custom Hook

ë‚˜ë§Œì˜ í›…ì„ ë§Œë“¤ì–´ ì»´í¬ë„ŒíŠ¸ ê°„ì— ë¡œì§ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŒ


## Hookì˜ ê·œì¹™
